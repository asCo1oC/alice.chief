:root{
  --bg: #ffffff;
  --paper: #f5f1f0;      /* как в тильде на скрине */
  --text: #111;
  --muted: rgba(0,0,0,.62);

  --accent: #ed2204;     /* тильда-красный (можно сменить на пастель позже) */
  --stroke: rgba(0,0,0,.10);

  --radius: 30px;
  --shadow: 0 14px 40px rgba(0,0,0,.10);

  --t: 420ms;
  --ease: cubic-bezier(.2,.9,.2,1);
}

*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;
  background: var(--bg);
  color: var(--text);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
}
.no-scroll{overflow:hidden}

.container{width:min(1120px, calc(100% - 40px)); margin:0 auto}
.container--wide{
  width: min(1400px, calc(100% - 40px));
}
.topbar{
  position:sticky; top:0; z-index:9999;
  background: #5c5757;
  color: #fff;
  backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.topbar__inner{display:flex; justify-content:space-between; align-items:center; padding: 16px 0}
.brand{
  width:40px;height:40px; display:grid; place-items:center;
  border-radius: 12px;
  color:#fff; text-decoration:none;
  border:1px solid rgba(255,255,255,.18);
}
.nav{display:flex; gap:14px}
.nav__link{
  color:#fff;
  text-decoration:none;
  opacity:1;
  padding:10px 18px; /* larger touch targets */
  border-radius:12px;
  transition: background var(--t) var(--ease), transform var(--t) var(--ease);
  background: transparent;
  font-weight:700;
  font-size:16px;
}
.nav__link:hover{background: rgba(255,255,255,.06); transform: translateY(-1px)}

.footer{
  padding: 18px 0 26px;
  background: transparent; /* remove dark footer bar */
  border-top: 1px solid var(--stroke);
}
.footer__inner{display:flex; align-items:center; justify-content:space-between}
.footer__muted{color: var(--muted); font-size: 13px}
.secret-dot{
  width: 10px; height: 10px; border-radius: 999px;
  display:inline-block;
  background: rgba(0,0,0,.08);
  border: 1px solid rgba(0,0,0,.08);
  opacity: .7;
}
.secret-dot:hover{opacity:1}

/* typography */
.h2{margin:0; font-size: 34px; line-height:1.2; font-weight: 700}
.muted{margin: 10px 0 0; color: var(--muted)}
.centerhead{text-align:center; margin-bottom: 28px}

/* buttons */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding: 14px 26px;
  border-radius: 10px; /* округлые кнопки */
  text-decoration:none;
  font-weight: 600;
  transition: transform var(--t) var(--ease), filter var(--t) var(--ease), background var(--t) var(--ease), box-shadow var(--t) var(--ease), border-color var(--t) var(--ease);
  border: 2px solid transparent;
  will-change: transform, box-shadow;
}
.btn:hover{transform: translateY(-1px)}
.btn--accent{background: var(--accent); color:#fff}
.btn--outline{background: transparent; color: #111; border-color: rgba(0,0,0,.25)}
.btn--outline:hover{filter: brightness(.98); box-shadow: 0 8px 30px rgba(0,0,0,.06)}
.btn:focus{outline: 3px solid rgba(237,34,4,.14); outline-offset: 2px}

/* sections */
.section{padding: 80px 0}
/* ensure that anchored sections are visible below the sticky header */
.section{scroll-margin-top: 100px}
.section--paper{background: var(--paper)}

/* HERO cover */
.cover{
  position:relative;
  height: min(100vh, 820px);
  background:#1a1a1a;
  overflow:hidden;
}
.cover__media{position:absolute; inset:0}
.cover__img{position:absolute; right:0; top:0; height:100%; width: 58%; object-fit: cover}
.cover__overlay{position:absolute; inset:0; background: linear-gradient(90deg, rgba(0,0,0,.75) 0%, rgba(0,0,0,.30) 55%, rgba(0,0,0,.12) 100%)}
.cover__diagonal{
  position:absolute;
  left: 34%;
  top:-10%;
  width: 28%;
  height: 140%;
  background: rgba(0,0,0,.82);
  transform: skewX(-18deg);
  transform-origin: center;
}
.cover__content{position:relative; height:100%; display:flex; align-items:center}
.cover__text{max-width: 520px; color:#fff; padding: 40px 0}
.cover__title{margin:0; font-size: 56px; line-height:1.05; font-weight: 700}
.cover__subtitle{margin: 18px 0 0; font-size: 18px; opacity: .9; line-height:1.5}
.cover__tagline{margin: 18px 0 28px; font-style: italic; font-weight: 800}

/* timeline like t550 */
.timeline{
  /* stretch timeline to full page width with comfortable side padding */
  width: 100%;
  max-width: none;
  margin: 0;
  position: relative;
  padding-left: 160px; /* space for dots */
  padding-right: 160px;
  box-sizing: border-box;
}
.timeline__line{
  position: absolute;
  left: 80px; /* align with timeline dot center */
  top: 8px;
  bottom: 8px;
  width: 2px;
  background: #e8e8e8;
}
.timeline__item{
  display: grid;
  grid-template-columns: 80px 1fr; /* wider left column for dot */
  gap: 28px;
  padding-bottom: 80px;
}
.timeline__item:last-child{padding-bottom:0}
.timeline__dot{
  width: 64px; height: 64px;
  border-radius: 999px;
  background: var(--accent);
  color:#fff;
  display:grid; place-items:center;
  font-weight: 800;
}
.timeline__title{font-size: 20px; font-weight: 700; margin-top: 4px}
.timeline__text{margin-top: 10px; color: rgba(0,0,0,.62); line-height:1.6}

/* services like t1069 */
.servicegrid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 22px;
  width: min(1120px, 100%);
  margin: 0 auto;
}
.servicecard{
  background:#fff;
  border: 1px solid #fff;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 34px 26px;
  text-align:center;
  transition: transform var(--t) var(--ease);
}
.servicecard:hover{transform: translateY(-2px)}
.servicecard__name{font-size: 20px; font-weight: 700}
.servicecard__price{margin-top: 14px; font-size: 44px; font-weight: 800}
.servicecard__desc{margin-top: 14px; color: rgba(0,0,0,.62); line-height:1.6}
.servicecard--featured{transform: translateY(-10px)}
.servicecard--featured:hover{transform: translateY(-12px)}

/* portfolio masonry (CSS columns, tilda-like spacing) */
.tilda-masonry{
  width: min(1160px, 100%);
  margin: 0 auto;
  column-count: 3;
  column-gap: 20px;
}
.tilda-masonry__item{
  margin: 0 0 20px;
  break-inside: avoid;
}
.tilda-masonry__item img{
  width: 100%;
  display:block;
}

/* contact cover */
.contactcover{
  position:relative;
  padding: 120px 0;
  background: var(--paper);
  overflow:hidden;
}
.contactcover__media{position:absolute; inset:0; background: #f0e9e7;}
.contactcover__veil{position:absolute; inset:0; background: rgba(240,233,231,.90)}
.contactcover__content{position:relative}
.contactcard{
  width: min(760px, 100%);
  margin: 0 auto;
  text-align:center;
  padding: 0;
}
.contactbtns{margin-top: 28px; display:flex; gap: 14px; justify-content:center; flex-wrap:wrap}

/* reveal (мягко как у Tilda, но своим кодом) */
.js-reveal{
  opacity: 0;
  transform: translateY(18px);
  transition: opacity 700ms var(--ease), transform 900ms var(--ease);
}
.js-reveal.is-visible{
  opacity: 1;
  transform: none;
}
@media (prefers-reduced-motion: reduce){
  html{scroll-behavior:auto}
  .js-reveal{opacity:1; transform:none; transition:none}
}

/* responsive */
@media (max-width: 980px){
  .cover__img{width: 100%}
  .cover__diagonal{display:none}
  .cover__overlay{background: rgba(0,0,0,.55)}
  .cover__title{font-size: 44px}
  .section{padding: 90px 0}
  .servicegrid{grid-template-columns: 1fr; width: min(520px, 100%)}
  .tilda-masonry{column-count: 2}
  /* make timeline readable on tablet */
  .timeline{padding-left: 100px; padding-right: 40px}
  .timeline__item{grid-template-columns: 64px 1fr; gap: 20px}
  .timeline__line{left: 44px}
}
@media (max-width: 560px){
  .cover__title{font-size: 36px}
  .timeline{padding-left: 66px; padding-right: 24px}
  .timeline__line{left: 30px}
  .tilda-masonry{column-count: 1}
}
/* override: wide container for "how" */
.container.container--wide{
  max-width: none;
  width: min(1400px, calc(100% - 40px));
}
/* wider container override (если ещё не добавлял) */
.container--wide{
  max-width: none;
  width: min(1400px, calc(100% - 40px));
}

/* portfolio teaser block */
.port-teaser{
  display:flex;
  flex-direction: column; /* vertical layout */
  align-items: center;    /* center everything horizontally */
  justify-content: center; /* center vertically within the teaser */
  gap: 20px;
  padding: 56px 36px; /* taller block */
  min-height: 260px; /* make it more vertical */
  background: #fff; /* карточка на светлом фоне */
  border-radius: calc(var(--radius) / 2);
  box-shadow: 0 12px 36px rgba(16,16,16,.08);
  border: 1px solid rgba(0,0,0,.04);
  transition: transform var(--t) var(--ease), box-shadow var(--t) var(--ease);
  text-align: center; /* center text content */
}
.port-teaser:hover{transform: translateY(-6px); box-shadow: 0 20px 50px rgba(16,16,16,.10)}
.port-teaser__text{max-width: 72ch; margin: 0 auto}

.arrowbtn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: 16px;
  text-decoration:none;
  color: var(--text);
  transition: transform var(--t) var(--ease);
}
.arrowbtn:hover{transform: translateY(-2px)}
.arrowbtn__label{
  font-weight: 700;
  letter-spacing: .02em;
}
.arrowbtn__circle{
  width: 62px; height: 62px;
  display:grid; place-items:center;
  border-radius: 999px;
  background: var(--accent);
  color: #fff;
  font-size: 28px;
  line-height: 1;
  transition: transform 260ms var(--ease), box-shadow 260ms var(--ease), background 260ms var(--ease);
}

/* COLLAGE grid — larger, symmetric layout */
.collage {
  margin-top: 28px;
}
.collage-grid{
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-auto-rows: 180px;
  gap: 18px;
  max-width: 1100px;
  margin: 0 auto;
  align-items: stretch;
}
.collage-grid__item{overflow:hidden; border-radius: 14px;}
.collage-grid__item img{width:100%; height:100%; object-fit: cover; display:block; transition: transform 400ms var(--ease)}
.collage-grid__item:hover img{transform: scale(1.04)}

/* Symmetric 3-block composition: two large squares on left/center and a stacked column on the right */
.collage-grid__item:nth-child(1){grid-column: 1 / span 2; grid-row: 1 / span 2}
.collage-grid__item:nth-child(2){grid-column: 3 / span 2; grid-row: 1 / span 2}
.collage-grid__item:nth-child(3){grid-column: 1 / span 1; grid-row: 3 / span 1}
.collage-grid__item:nth-child(4){grid-column: 2 / span 1; grid-row: 3 / span 1}
.collage-grid__item:nth-child(5){grid-column: 3 / span 1; grid-row: 3 / span 1}
.collage-grid__item:nth-child(6){grid-column: 4 / span 1; grid-row: 3 / span 1}
.collage-grid__item:nth-child(7){grid-column: 1 / span 2; grid-row: 4 / span 1}
.collage-grid__item:nth-child(8){grid-column: 3 / span 2; grid-row: 4 / span 1}

/* Fallback: additional items flow naturally into the grid */

@media (max-width: 980px){
  .collage-grid{grid-template-columns: repeat(2, 1fr); grid-auto-rows: 140px; gap:12px}
  .collage-grid__item{grid-column:auto; grid-row:auto}
}
@media (max-width: 640px){
  .collage-grid{grid-template-columns: repeat(1, 1fr); grid-auto-rows: 180px; gap:10px}
  .collage-grid__item{grid-column:auto; grid-row:auto}
}
.arrowbtn:hover .arrowbtn__circle{transform: translateX(6px); box-shadow: 0 10px 30px rgba(237,34,4,.18)}

/* album page */
.portfolio-page .centerhead{margin-bottom: 26px}

.album{
  position: relative;
  margin: 0 auto;
  width: min(1100px, 100%);
}

.album__track{
  list-style:none;
  padding: 0;
  margin: 0;
  display:flex;
  gap: 16px;

  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;

  scrollbar-width: none;
}
.album__track::-webkit-scrollbar{display:none}

.album__slide{
  flex: 0 0 100%;
  scroll-snap-align: center;
  scroll-snap-stop: always;
}

.album__frame{
  margin: 0;
  background: #fff;
  box-shadow: var(--shadow);
  border-radius: var(--radius);
  overflow:hidden;
}

.album__img{
  width: 100%;
  height: min(70vh, 720px);
  object-fit: cover;
  display:block;
}

/* album arrows */
.album__nav{
  position:absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 52px; height: 52px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.25);
  background: rgba(0,0,0,.35);
  color: #fff;
  font-size: 34px;
  line-height: 1;
  cursor:pointer;
  transition: transform var(--t) var(--ease), background var(--t) var(--ease), opacity var(--t) var(--ease);
  opacity: .9;
}
.album__nav:hover{
  background: rgba(0,0,0,.50);
  transform: translateY(-50%) scale(1.03);
}
.album__nav--prev{left: 14px}
.album__nav--next{right: 14px}

@media (max-width: 720px){
  .port-teaser{flex-direction:column; align-items:center}
  .album__img{height: min(60vh, 520px)}
  .album__nav{display:none} /* на мобиле удобнее свайп */
}
/* album UI (counter + dots) */
.album__ui{
  position: absolute;
  left: 50%;
  bottom: 12px;
  transform: translateX(-50%);
  display:flex;
  align-items:center;
  gap: 14px;
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(8px);
  color: #fff;
}

.album__count{
  font-weight: 700;
  letter-spacing: .02em;
  font-size: 14px;
  display:flex;
  align-items:center;
  gap: 6px;
}
.album__count-sep{opacity:.7}

.album__dots{
  display:flex;
  gap: 8px;
  align-items:center;
}
.album__dot{
  width: 8px; height: 8px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.55);
  background: rgba(255,255,255,.20);
  padding:0;
  cursor:pointer;
  transition: transform var(--t) var(--ease), background var(--t) var(--ease), opacity var(--t) var(--ease);
  opacity:.9;
}
.album__dot:hover{transform: scale(1.15)}
.album__dot.is-active{
  background: #fff;
  opacity: 1;
  transform: scale(1.25);
}

/* better focus */
.album__track:focus{
  outline: 3px solid rgba(237,34,4,.35);
  outline-offset: 6px;
  border-radius: 18px;
}

/* keep arrows above UI */
.album__nav{z-index: 3}
.album__ui{z-index: 2}

/* On small screens: keep dots+counter, hide arrows already done */
@media (max-width: 720px){
  .album__ui{bottom: 10px; gap: 10px}
}
/* ===== Modal (TG premium) ===== */
.modal{
  position: fixed;
  inset: 0;
  display: none;            /* скрыто по умолчанию */
  z-index: 9999;
}

.modal.is-open{
  display: block;           /* показываем только когда открыта */
}

.modal__overlay{
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(4px);
}

.modal__card{
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: min(520px, calc(100% - 36px));
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 30px 80px rgba(0,0,0,.25);
  padding: 18px 18px 16px;
}

.modal__title{
  margin: 4px 0 10px;
  font-size: 18px;
}

.modal__body{
  color: rgba(0,0,0,.78);
  line-height: 1.55;
}

.modal__close{
  position: absolute;
  right: 10px;
  top: 8px;
  width: 36px;
  height: 36px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.10);
  background: rgba(0,0,0,.04);
  cursor: pointer;
  font-size: 20px;
}

.modal__actions{
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 14px;
}

.no-scroll{
  overflow: hidden;
}
/* photo grid on main */
.photogrid{
  display:grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 14px;
}

.photogrid__tile{
  position: relative;
  display:block;
  border-radius: var(--radius);
  overflow:hidden;
  box-shadow: var(--shadow);
  background: #fff;
  transform: translateY(0);
  transition: transform var(--t) var(--ease), box-shadow var(--t) var(--ease);
}

/* делаем “журнал”: разные размеры плиток */
.photogrid__tile:nth-child(1){ grid-column: span 7; }
.photogrid__tile:nth-child(2){ grid-column: span 5; }
.photogrid__tile:nth-child(3){ grid-column: span 4; }
.photogrid__tile:nth-child(4){ grid-column: span 4; }
.photogrid__tile:nth-child(5){ grid-column: span 4; }
.photogrid__tile:nth-child(6){ grid-column: span 12; }

.photogrid__img{
  width: 100%;
  height: clamp(180px, 32vw, 360px);
  object-fit: cover;
  display:block;
}

.photogrid__veil{
  position:absolute;
  inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,0) 55%, rgba(0,0,0,.18) 100%);
  opacity: .9;
  transition: opacity var(--t) var(--ease);
}

.photogrid__tile:hover{
  transform: translateY(-3px);
  box-shadow: 0 28px 70px rgba(0,0,0,.16);
}
.photogrid__tile:hover .photogrid__veil{opacity: 1}

@media (max-width: 900px){
  .photogrid{grid-template-columns: repeat(6, 1fr)}
  .photogrid__tile:nth-child(1),
  .photogrid__tile:nth-child(2),
  .photogrid__tile:nth-child(3),
  .photogrid__tile:nth-child(4),
  .photogrid__tile:nth-child(5){ grid-column: span 3; }
  .photogrid__tile:nth-child(6){ grid-column: span 6; }
}

@media (max-width: 560px){
  .photogrid{grid-template-columns: repeat(2, 1fr)}
  .photogrid__tile{ grid-column: span 2 !important; }
  .photogrid__img{ height: 240px; }
}
/* story strip: alternating image + text */
.story{
  display:flex;
  flex-direction:column;
  gap: 26px;
  margin-top: 18px;
}

.storyitem{
  display:flex;
  align-items:center;
  gap: 26px;
  padding: 16px;
  border-radius: calc(var(--radius) + 2px);
  background: rgba(255,255,255,.62);
  box-shadow: var(--shadow);
}

.storyitem__media{
  flex: 0 0 56%;
  border-radius: var(--radius);
  overflow:hidden;
  display:block;
  position:relative;
}

.storyitem__img{
  width:100%;
  height: clamp(220px, 34vw, 420px);
  object-fit: cover;
  display:block;
  transform: scale(1.01);
  transition: transform var(--t) var(--ease);
}

.storyitem__media:hover .storyitem__img{
  transform: scale(1.04);
}

.storyitem__text{
  flex: 1;
  padding: 6px 10px;
  max-width: 52ch;
}

.storyitem__title{
  margin: 0 0 8px;
  font-size: 18px;
  letter-spacing: .01em;
}

.linkarrow{
  display:inline-block;
  margin-top: 10px;
  text-decoration:none;
  font-weight: 700;
  color: var(--accent);
}

.storyitem__signature{
  margin-top: 10px;
  color: rgba(0,0,0,.62);
  font-size: 13px;
  font-style: italic;
}

/* alternating sides */
.storyitem:nth-child(even){
  flex-direction: row-reverse;
}

/* mobile: single column */
@media (max-width: 820px){
  .storyitem{
    flex-direction: column;
    align-items: stretch;
    padding: 14px;
  }
  .storyitem:nth-child(even){
    flex-direction: column; /* keep same order on mobile */
  }
  .storyitem__media{flex-basis:auto}
  .storyitem__text{max-width:none}
}

